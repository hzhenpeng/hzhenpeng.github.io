<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>荼蘼</title>
  <icon>https://www.gravatar.com/avatar/5c6635deae2f33d90a0640393f70ca7e</icon>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://hzhenpeng.github.io/"/>
  <updated>2018-02-22T01:18:06.154Z</updated>
  <id>https://hzhenpeng.github.io/</id>
  
  <author>
    <name>荼蘼</name>
    <email>hzp18813756457@139.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>百度分享不支持https的解决方案</title>
    <link href="https://hzhenpeng.github.io/undefined/title.html"/>
    <id>https://hzhenpeng.github.io/undefined/title.html</id>
    <published>2018-02-15T17:27:51.000Z</published>
    <updated>2018-02-22T01:18:06.154Z</updated>
    
    <content type="html"><![CDATA[<p>站点自从开启 https 之后 ，百度分享就不能用了！但是又寻找不到类似百度分享的替代品。。</p><p>怎么办呢？要如何解决 百度分享不支持https的问题呢，</p><p>跟着博主动动手，让你百度分享仍然能在https下使用 ~</p><a id="more"></a><h1 id="伸手党"><a href="#伸手党" class="headerlink" title="伸手党"></a>伸手党</h1><p>先上伸手党的解决方案~</p><p>博主修改好的分享代码(下面两个链接下载其中一个)的即可</p><p>Github地址（推荐，2016.10.2更新）：<a href="https://github.com/hrwhisper/baiduShare" target="_blank" rel="noopener">https://github.com/hrwhisper/baiduShare</a><br>旧版本，不再更新。 备用地址： <a href="http://pan.baidu.com/s/1i4c1hnn" target="_blank" rel="noopener">http://pan.baidu.com/s/1i4c1hnn</a> 密码：0kjw </p><h1 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h1><p>下载方式如下：<br><img src="http://oxz42jl1a.bkt.clouddn.com/blog/180216/Dm8iIalD8L.png?imageslim" alt="mark"></p><h1 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h1><p>static 解压后丢到站点的根目录</p><p>这里需要确保要确保“根目录”能被访问到，比如我的wordpress确实就是丢到根目录即可<br>其它的比如hexo其实时放在public目录下，如果不行可以在配置文件中添加如下内容，禁止hexo编译static文件夹<br>skip_render:<br>– static/**<br>然后对应的百度分享代码中，把<a href="http://bdimg.share.baidu.com/改为" target="_blank" rel="noopener">http://bdimg.share.baidu.com/改为</a> /<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.src=<span class="string">'http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='</span>+~(-<span class="keyword">new</span> <span class="built_in">Date</span>()/<span class="number">36e5</span>)];<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">改为</span><br><span class="line">.src=<span class="string">'/static/api/js/share.js?v=89860593.js?'</span>];<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>比如说博主调用的百度分享代码如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"bdsharebuttonbox"</span>&gt;<span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"bds_more"</span> <span class="attr">data-cmd</span>=<span class="string">"more"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"bds_fbook"</span> <span class="attr">data-cmd</span>=<span class="string">"fbook"</span> <span class="attr">title</span>=<span class="string">"分享到Facebook"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"bds_twi"</span> <span class="attr">data-cmd</span>=<span class="string">"twi"</span> <span class="attr">title</span>=<span class="string">"分享到Twitter"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"bds_linkedin"</span> <span class="attr">data-cmd</span>=<span class="string">"linkedin"</span> <span class="attr">title</span>=<span class="string">"分享到linkedin"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"bds_qzone"</span> <span class="attr">data-cmd</span>=<span class="string">"qzone"</span> <span class="attr">title</span>=<span class="string">"分享到QQ空间"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"bds_tsina"</span> <span class="attr">data-cmd</span>=<span class="string">"tsina"</span> <span class="attr">title</span>=<span class="string">"分享到新浪微博"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"bds_douban"</span> <span class="attr">data-cmd</span>=<span class="string">"douban"</span> <span class="attr">title</span>=<span class="string">"分享到豆瓣网"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"bds_weixin"</span> <span class="attr">data-cmd</span>=<span class="string">"weixin"</span> <span class="attr">title</span>=<span class="string">"分享到微信"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span> <span class="attr">class</span>=<span class="string">"bds_evernotecn"</span> <span class="attr">data-cmd</span>=<span class="string">"evernotecn"</span> <span class="attr">title</span>=<span class="string">"分享到印象笔记"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;<span class="built_in">window</span>._bd_share_config=&#123;<span class="string">"common"</span>:&#123;<span class="string">"bdSnsKey"</span>:&#123;&#125;,<span class="string">"bdText"</span>:<span class="string">""</span>,<span class="string">"bdMini"</span>:<span class="string">"2"</span>,<span class="string">"bdMiniList"</span>:<span class="literal">false</span>,<span class="string">"bdPic"</span>:<span class="string">""</span>,<span class="string">"bdStyle"</span>:<span class="string">"1"</span>,<span class="string">"bdSize"</span>:<span class="string">"24"</span>&#125;,<span class="string">"share"</span>:&#123;&#125;,<span class="string">"image"</span>:&#123;<span class="string">"viewList"</span>:[<span class="string">"fbook"</span>,<span class="string">"twi"</span>,<span class="string">"linkedin"</span>,<span class="string">"qzone"</span>,<span class="string">"tsina"</span>,<span class="string">"douban"</span>,<span class="string">"weixin"</span>,<span class="string">"evernotecn"</span>],<span class="string">"viewText"</span>:<span class="string">"分享到："</span>,<span class="string">"viewSize"</span>:<span class="string">"16"</span>&#125;&#125;;<span class="keyword">with</span>(<span class="built_in">document</span>)<span class="number">0</span>[(getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>]||body).appendChild(createElement(<span class="string">'script'</span>)).src=<span class="string">'/static/api/js/share.js?v=89860593.js?'</span>];<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><h1 id="自己动手，丰衣足食"><a href="#自己动手，丰衣足食" class="headerlink" title="自己动手，丰衣足食"></a>自己动手，丰衣足食</h1><p>所谓授人以鱼不如授人以渔，博主把主要的修复过程记录如下:</p><h2 id="获取百度分享的文件"><a href="#获取百度分享的文件" class="headerlink" title="获取百度分享的文件"></a>获取百度分享的文件</h2><p>你可以直接用chrome – F12 – source 查看有什么文件，然后保存（注意微信的需要先点一下，对应的 css 才会出来）</p><p><img src="http://oxz42jl1a.bkt.clouddn.com/blog/180216/22hemmEm0f.png?imageslim" alt="mark"></p><p>也可以直接看博主分享的文件，对应着下载。</p><p>把域名改成<a href="http://bdimg.share.baidu.com/加上对应的路径即可" target="_blank" rel="noopener">http://bdimg.share.baidu.com/加上对应的路径即可</a></p><h2 id="修改一些文件"><a href="#修改一些文件" class="headerlink" title="修改一些文件"></a>修改一些文件</h2><p>直接这么丢上去是会有问题的，你地址栏绿色的小锁会消失 T^T</p><p>就是说你虽然是Https的站点，但请求了http的资源，这种混合模式是不好滴</p><p>修复方法：</p><p>static\api\js\share.js<br>domain: {staticUrl: “<a href="http://bdimg.share.baidu.com/”}" target="_blank" rel="noopener">http://bdimg.share.baidu.com/”}</a> 修改为 domain: {staticUrl: “/”}<br>nsClick: “<a href="http://nsclick.baidu.com/v.gif”" target="_blank" rel="noopener">http://nsclick.baidu.com/v.gif”</a>  修改为  nsClick: “/”,<br>static\api\js\trans\logger.js<br>把里面的内容都删掉，但保留这个空文件<br>貌似就是这两个步骤，博主应该没漏掉</p><h2 id="修改印象笔记图标"><a href="#修改印象笔记图标" class="headerlink" title="修改印象笔记图标"></a>修改印象笔记图标</h2><p>博主用的是主题1（明显比主题0好看啊，主题0还没印象笔记图标），</p><p>但是由于下面那个更多用的是主题0的图片，会造成加载两个图片，让我微微不爽（同样的没有印象笔记图标！）</p><p>于是修改如下：</p><p>static\api\css\share_popup.css<br>最后加上 .popup_evernotecn{background-position:4px -3190px;}<br>static\api\css\share_style0_16.css<br>最后加上 .bds_evernotecn{background-position:0 -3195px}<br>把 icons_1_16.png 重命名为 icons_0_16.png<br>可选：用tinypng 把图片压缩下，博主现在这个图片就7.81KB</p><h2 id="微信URL过长失败二维码出不来的问题"><a href="#微信URL过长失败二维码出不来的问题" class="headerlink" title="微信URL过长失败二维码出不来的问题"></a>微信URL过长失败二维码出不来的问题</h2><p>原因：网址过长时调用dwz API，而该网站不支持HTTPS</p><p>修复方式有两种</p><p>允许长的网址<br>自己寻找可以缩短网址的API，进行替换<br>本文采用的是第一种，在trans_weixin.js 修改d函数即可</p><pre><code>d = function () {        s.attr(&quot;data-url&quot;) != r &amp;&amp; (u.html(&quot;\u6b63\u5728\u52a0\u8f7d&quot;), r.length &gt; 200 ?         /*p(r, function (e) {                h(e, !0)            }) */         h(r):         h(r))    },</code></pre><h1 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h1><p>OK，快去试试效果吧~</p><p>如果有不清楚的地方，欢迎留言。</p><p>你也可以对着我修改的结果查看~</p><p>有用的话注册个github 给博主点个star 鼓励一下博主吧 ^ ^</p><p>或者对博主进行打赏~</p><p>本博客若无特殊说明则由 hrwhisper 原创发布<br>本文地址：<a href="https://www.hrwhisper.me/baidu-share-not-support-https-solution/" target="_blank" rel="noopener">https://www.hrwhisper.me/baidu-share-not-support-https-solution/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;站点自从开启 https 之后 ，百度分享就不能用了！但是又寻找不到类似百度分享的替代品。。&lt;/p&gt;
&lt;p&gt;怎么办呢？要如何解决 百度分享不支持https的问题呢，&lt;/p&gt;
&lt;p&gt;跟着博主动动手，让你百度分享仍然能在https下使用 ~&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://hzhenpeng.github.io/undefined/title.html"/>
    <id>https://hzhenpeng.github.io/undefined/title.html</id>
    <published>2018-02-07T16:37:00.000Z</published>
    <updated>2018-02-08T16:29:42.237Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on [GitHub]<a id="more"></a>(<a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">https://github.com/hexojs/hexo/issues</a>).</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on [GitHub]
    
    </summary>
    
      <category term="Python" scheme="https://hzhenpeng.github.io/categories/Python/"/>
    
    
      <category term="Python" scheme="https://hzhenpeng.github.io/tags/Python/"/>
    
      <category term="Django" scheme="https://hzhenpeng.github.io/tags/Django/"/>
    
  </entry>
  
  <entry>
    <title>next主题为博客添加分享功能失效解决办法</title>
    <link href="https://hzhenpeng.github.io/undefined/title.html"/>
    <id>https://hzhenpeng.github.io/undefined/title.html</id>
    <published>2018-02-07T03:24:10.000Z</published>
    <updated>2018-02-15T11:35:47.925Z</updated>
    
    <content type="html"><![CDATA[<p>一直想给自己搭建的博客添加分享功能，google上首先是找到了使用shareSDK的分享功能，在实践的过程中发现添加shareSDK时步骤比较多，添加完成后效果比较丑（一个长条的浅蓝色按钮），而且点击后想要退出分享比较麻烦,它的取消按钮在页面最下方的位置，呈现浅灰色，实在是太难找了，这个设计太反人类了，所以决定放弃它了。在next主题的官方的文档中发现了最新版的next自身集成了百度分享的功能，所以决定采用百度分享了。<br><a id="more"></a></p><h1 id="解决思路"><a href="#解决思路" class="headerlink" title="解决思路"></a>解决思路</h1><p>根据官方文档的说法，只需要添加/修改主题配置文件中的字段 baidushare值为 true，即可。<a href="http://theme-next.iissnan.com/third-party-services.html" title="官方文档 " target="_blank" rel="noopener">官方文档</a><br>但是我自己按照官方文档改了配置文件之后发现并没有出现分享功能，下面是我的主题配置文件的部分代码<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> Baidu Share</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Available value:</span></span><br><span class="line"><span class="meta">#</span><span class="bash">   button | slide</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> Warning: Baidu Share does not support https.</span></span><br><span class="line"><span class="meta">#</span><span class="bash">baidushare:</span></span><br><span class="line"><span class="meta">#</span><span class="bash"><span class="built_in">type</span>: button</span></span><br><span class="line">    baidushare: truehttps://hzhenpeng.github.io/</span><br></pre></td></tr></table></figure></p><p>网上找了好久都没找到什么靠谱的解决办法，没办法，只能去来分析源代码，从源代码找找问题出在哪<br>由于hexo本身是使用node.js将Markdown渲染成静态页面，所以百度分享的相关代码必然会出现在HTML页面中，我们通过查看生成的HTML发现并没有对应的分享的代码，也就是说配置并没有启用。现在初步估计问题应该是出现在Markdown转化为HTML的过程中。<br>hexo中文章使用的模板是主题目录中的layout/post.swig文件，文件中关于分享功能的代码大致出现在第16行<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-spread"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.jiathis %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> '_partials/share/jiathis.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name">elseif</span> theme.baidushare %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> '_partials/share/baidushare.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name">elseif</span> theme.add_this_id %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> '_partials/share/add-this.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name">elseif</span> theme.duoshuo_shortname and theme.duoshuo_share %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> '_partials/share/duoshuo_share.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p><p>从代码上看，next主题支持许多中分享方式。它会先判断配置文件中对应的配置打开与否执行相应的代码，其中theme代表的是主题的配置文件。 </p><p>ps:当时我在配置sharesdk的时候发现只有注释掉其他的分享功能才能正常启用sharesdk，从代码上来看如果其他的打开了，根本就不会加载sharesdk的配置文件，要正常使用sharesdk的分享功能，要么修改判断的顺序，要么在配置文件中注释掉其他的分享功能<br>百度分享功能加载的是文件配置文件目录下的_partials/share/baidushare.swig,打开该文件：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"bdsharebuttonbox"</span>&gt;</span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_copy"</span> data-cmd=<span class="string">"copy"</span> title=<span class="string">"复制网址"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_weixin"</span> data-cmd=<span class="string">"weixin"</span> title=<span class="string">"分享到微信"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_tsina"</span> data-cmd=<span class="string">"tsina"</span> title=<span class="string">"分享到新浪微博"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_mail"</span> data-cmd=<span class="string">"mail"</span> title=<span class="string">"分享到邮件"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_douban"</span> data-cmd=<span class="string">"douban"</span> title=<span class="string">"分享到豆瓣网"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_sqq"</span> data-cmd=<span class="string">"sqq"</span> title=<span class="string">"分享到QQ好友"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_qzone"</span> data-cmd=<span class="string">"qzone"</span> title=<span class="string">"分享到QQ空间"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_tieba"</span> data-cmd=<span class="string">"tieba"</span> title=<span class="string">"分享到百度贴吧"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_twi"</span> data-cmd=<span class="string">"twi"</span> title=<span class="string">"分享到Twitter"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_fbook"</span> data-cmd=<span class="string">"fbook"</span> title=<span class="string">"分享到Facebook"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a href=<span class="string">"#"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_more"</span> data-cmd=<span class="string">"more"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"> &lt;a <span class="class"><span class="keyword">class</span></span>=<span class="string">"bds_count"</span> data-cmd=<span class="string">"count"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">&lt;<span class="regexp">/div&gt;</span></span><br></pre></td></tr></table></figure></p><p>代码中先判断了theme.baidushare.type的值，如果为button则执行后面的代码，原始代码中判断了两种情况一种是theme.baidushare.type为button，另一种是为slide，只有为这两种值才会执行代码，再次检查配置文件看看它的类型值是否正确。最后发现baidushare以及它下面的type被注释掉了，由于它没有读取到这个值，所以这两中情况都不满足，也就不会生成对应的分享代码，所以打开这两行的代码，最终这块的配置如下：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">baidushare:</span></span><br><span class="line"><span class="attr">    baidushare:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    type:</span> <span class="string">button</span></span><br></pre></td></tr></table></figure></p><p>重新生成一下，发现百度分享的按钮出现了。<br>至此问题解决了。</p><h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>百度谷歌了很久没有解决，还是还是带着绝望的心情看源码看出了点头绪。最后说点题外话，关于求助这件事，其实很多时候看源代码或者帮助文档能解决我们差不多很多问题，如果实在没有，一般你遇到的问题别人可能也遇到过，善用搜索引擎能解决所有问题，之前看到一个说法:普通程序员 + google = 超级程序员。所以在平时要养成一些习惯，仔细阅读帮助文档，阅读源码，善用搜索引擎，再实在没辙了再上论坛提问。<br>原文地址：<a href="http://blog.csdn.net/lanuage/article/details/78991798" target="_blank" rel="noopener">http://blog.csdn.net/lanuage/article/details/78991798</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;一直想给自己搭建的博客添加分享功能，google上首先是找到了使用shareSDK的分享功能，在实践的过程中发现添加shareSDK时步骤比较多，添加完成后效果比较丑（一个长条的浅蓝色按钮），而且点击后想要退出分享比较麻烦,它的取消按钮在页面最下方的位置，呈现浅灰色，实在是太难找了，这个设计太反人类了，所以决定放弃它了。在next主题的官方的文档中发现了最新版的next自身集成了百度分享的功能，所以决定采用百度分享了。&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
